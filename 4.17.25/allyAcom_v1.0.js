javascript:(function(){const isChatGPT=window.location.hostname.includes("chatgpt.com");if(!isChatGPT){window.open("https://chatgpt.com","_blank");alert("Please click the bookmarklet again on the new tab to launch the Accommodations Assistant.");return;}if(document.getElementById("accommodations-assistant"))return;function createStyles(){if(!document.getElementById("accommodations-assistant-styles")){const styleEl=document.createElement("style");styleEl.id="accommodations-assistant-styles";styleEl.textContent=` .a11y-light-theme{background-color:white !important;color:#000 !important;}.a11y-light-theme select,.a11y-light-theme input{background-color:white !important;color:#000 !important;border-color:#ccc !important;}.a11y-dark-theme{background-color:#222 !important;color:#fff !important;}.a11y-dark-theme select,.a11y-dark-theme input{background-color:#222 !important;color:#fff !important;border-color:#444 !important;}#generate-btn{background-color:#49A74C !important;color:white !important;}#copy-btn{background-color:#0B78D0 !important;color:white !important;}#close-btn,#style-toggle,#theme-toggle{background-color:transparent !important;}.checkbox-container{margin-bottom:5px;display:flex;align-items:center;}.checkbox-container input{margin-right:8px;}.selected-challenges{margin-top:5px;font-size:12px;color:#666;font-style:italic;}.panel-scrollable{max-height:75vh;overflow-y:auto;padding-right:5px;}.heading-section{margin:15px 0 5px 0;font-weight:bold;}`;document.head.appendChild(styleEl);}}const panelStyles={default:"position:fixed;top:20px;right:20px;padding:15px;border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,0.3);z-index:10000;width:380px;font-family:Arial,sans-serif;",fullHeight:"position:absolute;top:0px;right:0px;padding:15px;box-shadow:rgba(0,0,0,0.3)0px 0px 10px;z-index:10000;width:380px;font-family:Arial,sans-serif;height:100vh;margin:0px;overflow-y:auto;"};const themeStyles={light:{bg:"white",text:"#000",border:"#ccc"},dark:{bg:"#222",text:"#fff",border:"#444"}};let panelStyle="default";let themeStyle="light";const panel=document.createElement("div");panel.id="accommodations-assistant";panel.style.cssText=panelStyles.default;panel.innerHTML=`<h2 style="color:#147CBD;margin:28px 0 10px 0;font-size:1.2em">Accommodations Assistant</h2><div style="display:flex;justify-content:end;position:absolute;top:12px;float:right;right:30px;"><button id="style-toggle" style="margin:0px 3px;background-color:transparent;border-radius:3px;padding:3px;cursor:pointer" title="Toggle Panel Style" aria-label="Toggle Panel Style"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line></svg></button><button id="theme-toggle" style="background-color:transparent;border-radius:3px;padding:3px;cursor:pointer" title="Toggle Theme" aria-label="Toggle Theme"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div><div class="panel-scrollable"><div class="heading-section">Select disability categories:</div><div id="disability-checkboxes"><!--Will be populated with checkboxes--></div><div class="heading-section">Environment:</div><select id="environment-select" style="width:100%;padding:5px;margin-bottom:10px;border-radius:3px;border:1px solid #ccc"><option value="workplace">Workplace(Employee-facing)</option><option value="public">Public Space(Customer-facing)</option></select><div class="heading-section">Additional information:</div><textarea id="additional-info" style="width:100%;padding:5px;margin-bottom:15px;border-radius:3px;border:1px solid #ccc;height:60px;resize:vertical" placeholder="Add specific needs,context,or accommodations already in place"></textarea><div style="display:flex;gap:10px;margin-bottom:10px"><button id="generate-btn" style="flex:1;padding:8px;background-color:#49A74C;color:white;border:none;border-radius:3px;cursor:pointer;font-weight:bold">Inject</button><button id="copy-btn" style="flex:1;padding:8px;background-color:#0B78D0;color:white;border:none;border-radius:3px;cursor:pointer;font-weight:bold">Copy</button></div></div><button id="close-btn" aria-label="close accommodations assistant" style="position:absolute;top:10px;right:10px;background-color:transparent;border:none;cursor:pointer;font-size:16px;font-weight:bold">âœ•</button>`;document.body.appendChild(panel);createStyles();panel.className="a11y-light-theme";const accommodationsData={visual:{title:"Visual Impairments",types:[{id:"blindness",name:"Blindness"},{id:"lowVision",name:"Low Vision"},{id:"colorBlindness",name:"Color Blindness"},{id:"lightSensitivity",name:"Light Sensitivity/Photophobia"},{id:"legalBlindness",name:"Legal Blindness"}],challenges:{blindness:[ "Navigating physical environments","Accessing visual information","Using digital interfaces" ],lowVision:[ "Reading standard print","Seeing details","Navigation","Light adaptation" ],colorBlindness:[ "Interpreting color-coded information","Visual displays relying on color differentiation" ],lightSensitivity:[ "Working in bright environments","Computer screens","Outdoor activities" ],legalBlindness:[ "Combination of challenges from blindness and low vision" ]},accommodations:{blindness:[ "Screen readers","Braille materials","Audio descriptions","Tactile maps","Guide dogs","Orientation assistance","Clear pathways" ],lowVision:[ "Screen magnifiers","Large print materials","High contrast displays","Adequate lighting","Reduced glare","Document cameras" ],colorBlindness:[ "Color-independent information design","Alternative visual cues","Pattern differentiation instead of color coding" ],lightSensitivity:[ "Adjustable lighting","Anti-glare screens","Tinted glasses","Window coverings","Reduced screen brightness","Alternative location options" ],legalBlindness:[ "Combination of accommodations for blindness and low vision" ]}},hearing:{title:"Hearing Impairments",types:[{id:"deafness",name:"Deafness"},{id:"hardOfHearing",name:"Hard of Hearing"},{id:"auditoryProcessing",name:"Auditory Processing Disorder"},{id:"tinnitus",name:"Tinnitus"},{id:"hyperacusis",name:"Hyperacusis"}],challenges:{deafness:[ "Accessing auditory information","Communication" ],hardOfHearing:[ "Understanding speech(especially in noisy environments)","Group conversations" ],auditoryProcessing:[ "Understanding speech despite normal hearing","Following verbal instructions" ],tinnitus:[ "Concentration","Sleep disruption","Hearing in background noise" ],hyperacusis:[ "Distress in noisy environments","Pain from everyday sounds" ]},accommodations:{deafness:[ "Sign language interpreters","Captioning","Visual alerts","Text-based communication","TTY/video relay services" ],hardOfHearing:[ "Assistive listening devices","Hearing aids","Speech-to-text","Preferential seating","Sound amplification systems" ],auditoryProcessing:[ "Written instructions","Visual cues","Noise-reducing headphones","Quiet work environments","Extended time for audio-based tasks" ],tinnitus:[ "Sound masking devices","Noise-canceling headphones","Quiet work areas","White noise machines" ],hyperacusis:[ "Sound dampening materials","Quiet work areas","Noise-canceling headphones","Flexible schedules to avoid peak noise times" ]}},physical:{title:"Physical/Mobility Impairments",types:[{id:"paralysis",name:"Paralysis"},{id:"limitedStanding",name:"Limited Standing Capacity"},{id:"limitedSitting",name:"Limited Sitting Capacity"},{id:"limitedDexterity",name:"Limited Dexterity"},{id:"tremors",name:"Tremors"},{id:"chronicPain",name:"Chronic Pain"},{id:"chronicFatigue",name:"Chronic Fatigue"}],challenges:{paralysis:[ "Movement","Physical tasks","Accessibility" ],limitedStanding:[ "Jobs requiring standing","Access to counters/equipment designed for standing" ],limitedSitting:[ "Desk jobs","Long meetings","Transportation" ],limitedDexterity:[ "Writing","Typing","Manipulation of small objects" ],tremors:[ "Precision tasks","Writing","Eating","Using devices" ],chronicPain:[ "Concentration","Consistent attendance","Specific positions" ],chronicFatigue:[ "Sustained activity","Full-time schedules" ]},accommodations:{paralysis:[ "Wheelchair accessibility","Adaptive equipment","Voice recognition software","Ergonomic workstations" ],limitedStanding:[ "Sit-stand workstations","Stools in work areas","Scheduled sitting breaks","Anti-fatigue mats" ],limitedSitting:[ "Ergonomic chairs","Standing desks","Movement breaks","Alternate working positions" ],limitedDexterity:[ "Voice recognition software","Adaptive keyboards","Pencil grips","Touch-free technologies" ],tremors:[ "Weighted tools","Stabilizing equipment","Voice-activated technology" ],chronicPain:[ "Flexible scheduling","Ergonomic furniture","Altered work positions","Remote work options","Breaks for movement/medication" ],chronicFatigue:[ "Flexible hours","Rest periods","Remote work options","Energy conservation strategies" ]}},cognitive:{title:"Cognitive Disabilities",types:[{id:"learning",name:"Learning Disabilities"},{id:"adhd",name:"ADHD"},{id:"autism",name:"Autism Spectrum Disorder"},{id:"intellectual",name:"Intellectual Disabilities"},{id:"tbi",name:"Traumatic Brain Injury"}],challenges:{learning:[ "Reading","Writing","Math","Organization","Memory" ],adhd:[ "Focus","Organization","Task completion","Time management" ],autism:[ "Social interactions","Sensory sensitivities","Changes in routine" ],intellectual:[ "Abstract concepts","Complex instructions","Time management" ],tbi:[ "Memory","Attention","Processing speed","Executive function" ]},accommodations:{learning:[ "Extended time","Assistive technology","Alternative formats","Task breakdowns","Visual organizers" ],adhd:[ "Distraction-reduced environments","Task managers","Regular breaks","Clear instructions","Reminder systems" ],autism:[ "Clear communication","Sensory accommodations","Consistent routines","Written instructions","Social coaching" ],intellectual:[ "Simple,concrete language","Task breakdowns","Visual supports","Extended training time","Consistent supervision" ],tbi:[ "Memory aids","Written instructions","Reduced distractions","Task management tools","Frequent breaks" ]}},communication:{title:"Communication Disabilities",types:[{id:"aphasia",name:"Aphasia"},{id:"stuttering",name:"Stuttering"},{id:"nonverbal",name:"Non-verbal Communication"},{id:"voiceDisorder",name:"Voice Disorders"}],challenges:{aphasia:[ "Verbal communication","Reading","Writing" ],stuttering:[ "Verbal communication","Presentations","Phone calls" ],nonverbal:[ "Expressing needs","Participating in discussions" ],voiceDisorder:[ "Being heard","Extended speaking" ]},accommodations:{aphasia:[ "Alternative communication methods","Extra time for communication","Picture boards","Speech-to-text technology" ],stuttering:[ "Extra time for speaking","Alternative communication methods","Reduced time pressure" ],nonverbal:[ "AAC devices","Communication boards","Text-to-speech technology","Visual communication systems" ],voiceDisorder:[ "Voice amplifiers","Text-based alternatives","Rest breaks for voice","Remote communication options" ]}},mentalHealth:{title:"Mental Health Conditions",types:[{id:"anxiety",name:"Anxiety Disorders"},{id:"depression",name:"Depression"},{id:"ptsd",name:"PTSD"},{id:"bipolar",name:"Bipolar Disorder"}],challenges:{anxiety:[ "Social situations","Pressure","Deadlines","Performance" ],depression:[ "Motivation","Concentration","Energy levels","Social interaction" ],ptsd:[ "Startling easily","Concentration","Emotional regulation" ],bipolar:[ "Varying energy and focus levels","Emotional regulation" ]},accommodations:{anxiety:[ "Flexible schedules","Private workspaces","Regular breaks","Remote work options","Written instructions" ],depression:[ "Flexible scheduling","Remote work options","Job restructuring","Natural lighting","Supportive feedback" ],ptsd:[ "Predictable environment","Advance notice of changes","Private workspace","Flexibility for therapy" ],bipolar:[ "Flexible scheduling","Stress management supports","Consistent structure with some flexibility" ]}},sensory:{title:"Sensory Processing Disorders",types:[{id:"hyperSensitivity",name:"Sensory Hypersensitivity"},{id:"hypoSensitivity",name:"Sensory Hyposensitivity"},{id:"integration",name:"Sensory Integration Issues"}],challenges:{hyperSensitivity:[ "Overstimulation from lights,sounds,textures,smells" ],hypoSensitivity:[ "Missing important sensory cues","Safety issues" ],integration:[ "Information overload","Social environments","Multitasking" ]},accommodations:{hyperSensitivity:[ "Reduced sensory stimulation","Noise-canceling headphones","Lighting adjustments","Fragrance-free policies","Private workspaces" ],hypoSensitivity:[ "Enhanced sensory cues","Visual alerts paired with sound","Vibrating alerts" ],integration:[ "Simplified sensory environment","One-sense-at-a-time information delivery","Predictable sensory experiences" ]}}};const environmentalAccommodations={workplace:{title:"Workplace Accommodations(Employee-facing)",sections:[{title:"Physical Environment",items:[ "Wheelchair ramps and lifts","Wide doorways and hallways","Automatic door openers","Accessible restrooms with grab bars","Adjustable height desks","Ergonomic chairs","Adjustable lighting systems","Sound-absorbing panels and dividers","Noise reduction measures" ]},{title:"Administrative Accommodations",items:[ "Flexible work schedules","Remote work options","Extended breaks","Modified job duties","Job sharing or part-time options","Alternative meeting formats","Clear written and verbal instructions","Regular check-ins and feedback" ]}]},public:{title:"Public Space Accommodations(Customer-facing)",sections:[{title:"Accessibility Features",items:[ "Accessible entrances and pathways","Clear signage with visual and tactile elements","Accessible restrooms","Reserved seating options","Quiet rooms or sensory-friendly spaces","Priority service options" ]},{title:"Communication Access",items:[ "Multiple communication methods","Staff training on disability awareness","Assistance for completing forms or transactions","Visual and auditory notification systems","Clear emergency procedures" ]}]}};const disabilityCheckboxes=document.getElementById("disability-checkboxes");const categories=Object.keys(accommodationsData);categories.forEach(category=>{const categoryData=accommodationsData[category];const categoryContainer=document.createElement("div");categoryContainer.style.marginBottom="10px";const categoryLabel=document.createElement("div");const labelText=document.createElement("strong");labelText.textContent=categoryData.title;categoryLabel.appendChild(labelText);categoryContainer.appendChild(categoryLabel);const typesContainer=document.createElement("div");typesContainer.style.marginLeft="15px";categoryData.types.forEach(type=>{const checkboxDiv=document.createElement("div");checkboxDiv.className="checkbox-container";const checkboxInput=document.createElement("input");checkboxInput.type="checkbox";checkboxInput.className="disability-checkbox";checkboxInput.id=`${category}_${type.id}`;checkboxInput.setAttribute("name",category);checkboxInput.setAttribute("data-type",type.id);const checkboxLabel=document.createElement("label");checkboxLabel.setAttribute("for",`${category}_${type.id}`);checkboxLabel.textContent=type.name;const challengesDiv=document.createElement("div");challengesDiv.className="selected-challenges";challengesDiv.id=`selected_${category}_${type.id}`;challengesDiv.style.display="none";checkboxInput.addEventListener("change",function(){if(this.checked){const challenges=accommodationsData[category].challenges[type.id];challengesDiv.textContent=`Challenges:${challenges.join(",")}`;challengesDiv.style.display="block";}else{challengesDiv.style.display="none";}});checkboxDiv.appendChild(checkboxInput);checkboxDiv.appendChild(checkboxLabel);checkboxDiv.appendChild(challengesDiv);typesContainer.appendChild(checkboxDiv);});categoryContainer.appendChild(typesContainer);disabilityCheckboxes.appendChild(categoryContainer);});function closePanel(){document.body.removeChild(panel);document.removeEventListener("keydown",handleEscKey);}function handleEscKey(event){if(event.key==="Escape")closePanel();}document.addEventListener("keydown",handleEscKey);document.getElementById("close-btn").onclick=closePanel;document.getElementById("generate-btn").onclick=injectPrompt;document.getElementById("copy-btn").onclick=copyPrompt;document.getElementById("style-toggle").onclick=function(){if(panelStyle==="default"){panelStyle="fullHeight";this.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line></svg>';this.title="Switch to Floating Panel";}else{panelStyle="default";this.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line></svg>';this.title="Switch to Full Height Sidebar";}const currentClass=panel.className;panel.style.cssText=panelStyles[panelStyle];panel.className=currentClass;};document.getElementById("theme-toggle").onclick=function(){if(themeStyle==="light"){themeStyle="dark";this.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>';this.title="Switch to Light Theme";panel.className="a11y-dark-theme";}else{themeStyle="light";this.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>';this.title="Switch to Dark Theme";panel.className="a11y-light-theme";}};function generatePrompt(){const selectedDisabilities=[];const checkboxes=document.querySelectorAll(".disability-checkbox:checked");const environment=document.getElementById("environment-select").value;const additionalInfo=document.getElementById("additional-info").value.trim();checkboxes.forEach(checkbox=>{const category=checkbox.getAttribute("name");const typeId=checkbox.getAttribute("data-type");const categoryData=accommodationsData[category];const typeData=categoryData.types.find(t=>t.id===typeId);selectedDisabilities.push({category:category,categoryTitle:categoryData.title,typeId:typeId,typeName:typeData.name,challenges:accommodationsData[category].challenges[typeId],accommodations:accommodationsData[category].accommodations[typeId]});});let prompt="# Accommodation Assessment Request\n\n";if(selectedDisabilities.length===0){prompt+="I'm seeking general information about accommodations best practices. ";}else{prompt+="I'm seeking accommodation information for an individual with the following disabilities/conditions:\n\n";const categoryGroups={};selectedDisabilities.forEach(disability=>{if(!categoryGroups[disability.categoryTitle]){categoryGroups[disability.categoryTitle]=[];}categoryGroups[disability.categoryTitle].push(disability);});for(const [categoryTitle,disabilities] of Object.entries(categoryGroups)){prompt+=`## ${categoryTitle}\n`;disabilities.forEach(disability=>{prompt+=`-**${disability.typeName}**\n`;prompt+=`-*Common Challenges*:${disability.challenges.join(",")}\n`;});prompt+="\n";}}const envData=environmentalAccommodations[environment];prompt+=`## Environment:${envData.title}\n`;const settingType=environment==="workplace" ? "employee-facing":"customer-facing";prompt+=`The accommodations will be implemented in a ${settingType}${environment}setting.\n\n`;if(additionalInfo){prompt+="## Additional Context\n";prompt+=additionalInfo+"\n\n";}prompt+="## Requested Information\n";prompt+="Please provide:\n";prompt+="1. A summary of the disability/impairment types and their impact\n";prompt+="2. Common workplace/environment challenges faced by individuals with these conditions\n";prompt+="3. Recommended accommodation strategies and solutions\n";prompt+="4. Any considerations for combined accommodations if multiple conditions are present\n";return prompt;}function injectPrompt(){const prompt=generatePrompt();const promptTextArea=document.querySelector("div#prompt-textarea p.placeholder");if(promptTextArea){promptTextArea.innerText=prompt;promptTextArea.dispatchEvent(new Event("input",{bubbles:true}));setTimeout(()=>{const sendButton=document.querySelector('button[data-testid="send-button"]');if(sendButton){sendButton.click();closePanel();}},100);}else{alert("Target textarea not found!");}}function copyPrompt(){const prompt=generatePrompt();navigator.clipboard.writeText(prompt).then(()=>{const copyBtn=document.getElementById("copy-btn");const originalText=copyBtn.innerText;copyBtn.innerText="Copied!";copyBtn.style.backgroundColor="#4CAF50";setTimeout(()=>{copyBtn.innerText=originalText;copyBtn.style.backgroundColor="#0B78D0";},1500);}).catch(err=>{alert("Failed to copy:"+err);});}})();