javascript:(function(){if(document.getElementById("zContrastToolContainer")){document.getElementById("zContrastToolContainer").remove();return}var e=function(e){"Escape"===e.key&&t()},t=function(){document.body.removeChild(c);document.body.removeChild(s);document.body.style.filter="";document.documentElement.style.filter="";document.removeEventListener("keydown",e)},s=document.createElement("div");s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" style="position:absolute;width:0;height:0"><defs><filter id="protanopia-filter"><feColorMatrix type="matrix" values="0.567 0.433 0 0 0 0.558 0.442 0 0 0 0 0.242 0.758 0 0 0 0 0 1 0"/></filter><filter id="deuteranopia-filter"><feColorMatrix type="matrix" values="0.625 0.375 0 0 0 0.7 0.3 0 0 0 0 0.3 0.7 0 0 0 0 0 1 0"/></filter><filter id="tritanopia-filter"><feColorMatrix type="matrix" values="0.95 0.05 0 0 0 0 0.433 0.567 0 0 0 0.475 0.525 0 0 0 0 0 1 0"/></filter><filter id="achromatopsia-filter"><feColorMatrix type="matrix" values="0.299 0.587 0.114 0 0 0.299 0.587 0.114 0 0 0.299 0.587 0.114 0 0 0 0 0 1 0"/></filter></defs></svg>';document.body.appendChild(s);var c=document.createElement("div");c.id="zContrastToolContainer",document.body.appendChild(c);var r=c.attachShadow({mode:"open"});r.innerHTML='<style>:host{color:#000;font-family:"Helvetica Neue",Arial,sans-serif;font-size:14px}input[type="text"]{height:32px;padding:3px 5px!important}.simCb{margin:10px 0!important;position:relative!important;}#cca-colorblind{height:32px;}input#cca-bg-alpha[type="number"]{padding:3px 5px!important;height:32px!important;}.zHead{background-color:#264f78;color:#fff;padding:10px 0 2px 10px!important;border-radius:4px;}button#cca-apply-colorblind{position:relative!important;margin-right:5px!important;}#cca-close{float:right;font-size:16px;top:-4px;position:relative!important;right:5px}#cca-fg-picker,#cca-bg-picker{margin:0 10px!important;height:33px;top:7px;position:relative}#widget{position:fixed;top:10px;left:10px;z-index:999999;background:#fff;border:1px solid #ddd;padding:12px;max-width:320px;box-shadow:0 2px 8px rgba(0,0,0,.15);border-radius:5px;line-height:1.4}#widget *{box-sizing:border-box;margin:0;padding:0}button{background-color:#f0f0f0!important;border:1px solid #c6c6c6!important;border-radius:3px;padding:3px 9px!important;font-size:.8rem;cursor:pointer;height:32px}button#cca-copy-long{padding:5px 10px;border:1px solid #ccc;border-radius:3px;background:#f9f9f9;cursor:pointer}.resultsCCT{background:#f0f0f0;padding:6px!important;border-radius:4px;color:#000}</style><div id="widget"><div class="zHead" style="margin-bottom:5px"><strong>Z Contrast Tool</strong><button id="cca-close">Ã—</button><div style="clear:both"></div></div><div style="margin-bottom:5px"><label>Foreground: <input type="text" id="cca-fg" value="#000000" size="7"></label><input type="color" id="cca-fg-picker" value="#000000"><button class="colorPicker" id="cca-fg-eyedropper" style="vertical-align:middle;background:none;border:none">pick color</button></div><div style="margin-bottom:5px"><label>Alpha: <input type="number" id="cca-alpha" min="0" max="1" step="0.05" value="1" style="width:50px"></label></div><div style="margin-bottom:5px"><label>Lightness: <input type="range" id="cca-lightness" min="0" max="100" value="50"></label></div><hr style="border:none;border-top:1px solid #eee;margin:8px 0"><div style="margin-bottom:5px"><label>Background: <input type="text" id="cca-bg" value="#ffffff" size="7"></label><input type="color" id="cca-bg-picker" value="#ffffff"><button class="colorPicker" id="cca-bg-eyedropper" style="vertical-align:middle;background:none;border:none">pick color</button></div><div style="margin-bottom:5px"><label>Alpha: <input type="number" id="cca-bg-alpha" min="0" max="1" step="0.05" value="1" style="width:50px"></label></div><div style="margin-bottom:5px"><label>Lightness: <input type="range" id="cca-bg-lightness" min="0" max="100" value="50"></label></div><div style="margin-bottom:5px"><button id="cca-swap">Swap Colors</button></div><div style="margin:8px 0"><div id="cca-example" style="padding:5px 6px;margin-bottom:8px">Example Text</div><div style="font-weight:500;padding-bottom:3px">Contrast Ratio: <span id="cca-contrast">-</span></div><div id="cca-wcag" class="resultsCCT"></div></div><div style="margin:8px 0"><button style="display:none;" id="cca-copy-short">Copy Short Result</button><button id="cca-copy-long">Copy Results</button></div><div style="margin:8px 0"><label>Color Blindness: <select id="cca-colorblind"><option value="none">None</option><option value="protanopia">Protanopia</option><option value="deuteranopia">Deuteranopia</option><option value="tritanopia">Tritanopia</option><option value="achromatopsia">Achromatopsia</option></select></label><div class="simCb"><button id="cca-apply-colorblind">Apply Simulation</button><button id="cca-reset-colorblind">Reset</button></div></div><div style="margin:8px 0"><button id="cca-toggle-greyscale">Toggle Greyscale Preview</button></div></div>';function o(e){return r.querySelector(e)}function a(e,t){e=e.replace(/^#/,""),3===e.length&&(e=e.split("").map(function(e){return e+e}).join(""));var s=parseInt(e,16);return{r:s>>16&255,g:s>>8&255,b:255&s,a:t}}function i(e,t,s){var c=[e,t,s].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*c[0]+.7152*c[1]+.0722*c[2]}function n(e,t,s){var c=a(e,t);return{r:c.a*c.r+(1-c.a)*s.r,g:c.a*c.g+(1-c.a)*s.g,b:c.a*c.b+(1-c.a)*s.b}}function l(e,t,s,c){var r={r:255,g:255,b:255},o=n(s,c,r),a=n(e,t,o),l=i(a.r,a.g,a.b),d=i(o.r,o.g,o.b),u=Math.max(l,d),p=Math.min(l,d);return(u+.05)/(p+.05)}function d(e,t){var s=a(e,t);return"rgba("+s.r+","+s.g+","+s.b+","+s.a+")"}function u(e){var t=0,s=0,c=0;4===e.length?(t="0x"+e[1]+e[1],s="0x"+e[2]+e[2],c="0x"+e[3]+e[3]):7===e.length&&(t="0x"+e[1]+e[2],s="0x"+e[3]+e[4],c="0x"+e[5]+e[6]),t/=255,s/=255,c/=255;var r=Math.min(t,s,c),o=Math.max(t,s,c),a=o-r,i=0;0===a?i=0:o===t?i=(s-c)/a%6:o===s?i=(c-t)/a+2:i=(t-s)/a+4,i=Math.round(60*i),i<0&&(i+=360);var n=(r+o)/2,l=0===a?0:a/(1-Math.abs(2*n-1));return{h:i,s:+(100*l).toFixed(1),l:+(100*n).toFixed(1)}}function p(e,t,s){t/=100,s/=100;var c=(1-Math.abs(2*s-1))*t,r=c*(1-Math.abs(e/60%2-1)),o=s-c/2,a=0,i=0,n=0;e<60?(a=c,i=r):e<120?(a=r,i=c):e<180?(i=c,n=r):e<240?(i=r,n=c):e<300?(a=r,n=c):(a=c,n=r),a=Math.round(255*(a+o)),i=Math.round(255*(i+o)),n=Math.round(255*(n+o));return"#"+((1<<24)+(a<<16)+(i<<8)+n).toString(16).slice(1)}function g(){var e=o("#cca-fg").value,t=o("#cca-bg").value,s=parseFloat(o("#cca-alpha").value),c=parseFloat(o("#cca-bg-alpha").value),r=Math.floor(l(e,s,t,c)*100)/100,a=r>=7?"AAA:Pass; AA:Pass; A:Pass":r>=4.5?"AAA:Fail; AA:Pass; A:Pass":"AAA:Fail; AA:Fail; A:Fail";o("#cca-contrast").innerText=r;var wcagEl=o("#cca-wcag");wcagEl.innerText=a;if(a==="AAA:Fail; AA:Fail; A:Fail"){wcagEl.style.color="#d51f1f"}else if(a==="AAA:Pass; AA:Pass; A:Pass"){wcagEl.style.color="#377a00"}else{wcagEl.style.color="#000"}var i=o("#cca-example");i.style.color=d(e,s),i.style.backgroundColor=d(t,c),i.style.borderRadius="4px"}function b(e){var t="none"===e?"":"url(#"+e+"-filter)";document.documentElement.style.filter=t}function f(e){var isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(!window.EyeDropper||isSafari){alert("Eyedropper API not supported in this browser.");return}var t=new EyeDropper;t.open().then(function(t){e.value=t.sRGBHex;var s="cca-fg"===e.id,c=s?"#cca-fg-picker":"#cca-bg-picker",r=s?"#cca-lightness":"#cca-bg-lightness";o(c).value=t.sRGBHex;var a=u(t.sRGBHex);o(r).value=a.l;g()}).catch(function(e){alert("Eyedropper error: "+e)})}o("#cca-fg").addEventListener("input",function(){o("#cca-fg-picker").value=this.value;var e=u(this.value);o("#cca-lightness").value=e.l;g()}),o("#cca-fg-picker").addEventListener("input",function(e){o("#cca-fg").value=e.target.value;var t=u(e.target.value);o("#cca-lightness").value=t.l;g()}),o("#cca-bg").addEventListener("input",function(){o("#cca-bg-picker").value=this.value;var e=u(this.value);o("#cca-bg-lightness").value=e.l;g()}),o("#cca-bg-picker").addEventListener("input",function(e){o("#cca-bg").value=e.target.value;var t=u(e.target.value);o("#cca-bg-lightness").value=t.l;g()}),o("#cca-alpha").addEventListener("input",g),o("#cca-bg-alpha").addEventListener("input",g),o("#cca-lightness").addEventListener("input",function(){var e=o("#cca-fg").value,t=u(e);t.l=this.value;var s=p(t.h,t.s,t.l);o("#cca-fg").value=s,o("#cca-fg-picker").value=s;g()}),o("#cca-bg-lightness").addEventListener("input",function(){var e=o("#cca-bg").value,t=u(e);t.l=this.value;var s=p(t.h,t.s,t.l);o("#cca-bg").value=s,o("#cca-bg-picker").value=s;g()}),o("#cca-fg-eyedropper").addEventListener("click",function(){f(o("#cca-fg"))}),o("#cca-bg-eyedropper").addEventListener("click",function(){f(o("#cca-bg"))}),o("#cca-swap").addEventListener("click",function(){var e=o("#cca-fg").value,t=o("#cca-bg").value,s=o("#cca-alpha").value,c=o("#cca-bg-alpha").value,r=o("#cca-lightness").value,a=o("#cca-bg-lightness").value;o("#cca-fg").value=t,o("#cca-bg").value=e,o("#cca-fg-picker").value=t,o("#cca-bg-picker").value=e,o("#cca-alpha").value=c,o("#cca-bg-alpha").value=s,o("#cca-lightness").value=a,o("#cca-bg-lightness").value=r;g()}),o("#cca-copy-short").addEventListener("click",function(){var e="Contrast Ratio: "+o("#cca-contrast").innerText;navigator.clipboard.writeText(e),alert("Copied short result to clipboard.")}),o("#cca-copy-long").addEventListener("click",function(){var e="Foreground: "+o("#cca-fg").value+" (Alpha: "+o("#cca-alpha").value+"), Background: "+o("#cca-bg").value+" (Alpha: "+o("#cca-bg-alpha").value+"). Contrast Ratio: "+o("#cca-contrast").innerText+". WCAG: "+o("#cca-wcag").innerText;navigator.clipboard.writeText(e),alert("Copied long result to clipboard.")}),o("#cca-apply-colorblind").addEventListener("click",function(){b(o("#cca-colorblind").value)}),o("#cca-reset-colorblind").addEventListener("click",function(){o("#cca-colorblind").value="none",document.documentElement.style.filter=""});var v=!1;o("#cca-toggle-greyscale").addEventListener("click",function(){v=!v,document.body.style.filter=v?"grayscale(100%)":""}),o("#cca-close").addEventListener("click",function(){t()});var m=o("#widget"),h=m.querySelector(".zHead");h.style.cursor="move";var y=0,k=0;function C(e){var n=e.clientY-k,i=e.clientX-y,o=window.innerHeight-m.offsetHeight,r=window.innerWidth-m.offsetWidth;n=Math.max(0,Math.min(n,o)),i=Math.max(0,Math.min(i,r)),m.style.top=n+"px",m.style.left=i+"px"}function x(e){document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",x)}h.addEventListener("mousedown",function(e){y=e.clientX-m.getBoundingClientRect().left,k=e.clientY-m.getBoundingClientRect().top,document.addEventListener("mousemove",C),document.addEventListener("mouseup",x)});g(),document.addEventListener("keydown",e)}());