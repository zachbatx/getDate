<!doctype html>
<html>
<head>
	
	
<meta charset="UTF-8">
<title>enroll link aria-labelledby</title>
</head>

<body>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Find all <ul> elements
  var ulElements = document.querySelectorAll('ul');
  ulElements.forEach(function(ul) {
    // Find the "Enroll" links within the <ul>
    var enrollLinks = ul.querySelectorAll('a[href=""]');
    enrollLinks.forEach(function(link) {
      if (link.textContent.toLowerCase() === 'enroll') {
        // Find the preceding <h3> element within the <ul>
        var heading = getPrecedingHeading(ul);
        if (heading) {
          // Generate a unique ID for the <h3> element
          var headingId = 'heading-' + Math.random().toString(36).substring(2, 15);
			
          
          // Add the unique ID as an ID attribute to the <h3> element
          heading.setAttribute('id', headingId);
          
          // Set the aria-labelledby attribute on the link, referencing the unique ID
          link.setAttribute('aria-describedby', headingId);
        }
      }
    });
  });

  function getPrecedingHeading(ul) {
    var previousElement = ul.previousElementSibling;
    while (previousElement) {
      if (previousElement.tagName.toLowerCase() === 'h3') {
        return previousElement;
      }
      previousElement = previousElement.previousElementSibling;
    }
    return null;
  }
});
</script>	
	
	
<h3>Training basics</h3>
<ul>
  <li><a href="">Enroll</a></li>
</ul>

<h3>Training basics 2</h3>
<ul>
  <li><a href="">Enroll</a></li>
  <li><a href="">Enroll</a></li>
</ul>

<h3>Training basics 3</h3>
<ul>
  <li><a href="">Enroll</a></li>
</ul>
	

	
</body>
</html>
